# WordSnap 課金戦略ドキュメント

最終更新: 2026-01-24

---

## Free/Pro 機能分離（確定版）

| 機能 | Free | Pro (¥500/月) | 実装状況 |
|------|------|---------------|----------|
| スキャン回数/日 | 5回 | 無制限 | ✅ 実装済み |
| 単語数上限 | **50語** | 無制限 | 🔄 要変更（100→50） |
| データ保存 | ローカル (IndexedDB) | クラウド (Supabase) | ✅ 実装済み |
| デバイス間同期 | ❌ | ✅ | ✅ 実装済み |
| データ永続性 | ブラウザ削除で消える | クラウドに永続保存 | ✅ 実装済み |
| 例文学習 | ❌ | ✅ | 📋 未実装 |
| 忘却曲線復習 | ❌ | ✅ | 📋 未実装 |

---

## 全ユーザー向け機能（確定版）

| 機能 | ゲスト（未登録） | Free（登録済み） | Pro | 実装状況 |
|------|-----------------|-----------------|-----|----------|
| 苦手マークを付ける | ✅ | ✅ | ✅ | 📋 未実装 |
| 苦手マーク一覧を見る | ✅ | ✅ | ✅ | 📋 未実装 |
| **苦手だけクイズ** | ❌ | ❌ | ✅ | 📋 未実装 |
| 単語帳シェア | ❌ | ✅ | ✅ | 📋 未実装 |
| 公開単語帳を見る | ✅ | ✅ | ✅ | 🔮 将来検討 |
| 公開単語帳を作成 | ❌ | ✅ | ✅ | 🔮 将来検討 |

---

## 課題: 現状のProアドバンテージが弱い

### 理由
1. **5回/日は十分すぎる** - 普通のユーザーは1日1〜2回しかスキャンしない
2. **100語は意外と多い** - 到達まで数週間かかり、その前に離脱する可能性
3. **「クラウド同期」の価値が伝わりにくい** - 複数デバイス利用者は少数派

---

## Pro限定機能（実装予定）

### 1. 例文学習機能

**コンセプト**: 単語を例文の中で理解する

#### 機能案

**A. 例文表示モード**
- 単語カードに例文を追加表示
- 例: `appreciate` → "I appreciate your help." (助けてくれて感謝します)

**B. 例文穴埋めクイズ**
- "I _______ your help." → 4択から選ぶ

**C. 例文和訳クイズ**
- "I appreciate your help." → この文の意味は？（4択）

#### 未決定事項
- [ ] 例文の取得方法（AI自動生成 or 既存DB/API）
- [ ] クイズ形式の選定（A/B/C/全部）

---

### 2. 忘却曲線復習機能

**コンセプト**: エビングハウスの忘却曲線に基づき、最適なタイミングで復習を促す

#### 機能案

**復習タイミング（例）**
- 1回目: 学習直後
- 2回目: 1日後
- 3回目: 3日後
- 4回目: 7日後
- 5回目: 14日後
- 6回目: 30日後

**UI案**
- 「今日の復習」セクション → 復習すべき単語を自動でピックアップ
- プッシュ通知（オプション）→ 「5語の復習タイミングです」

#### 未決定事項
- [ ] 復習タイミングのアルゴリズム詳細
- [ ] 正解/不正解時のタイミング調整ロジック
- [ ] 通知の実装方法（PWA Push / ネイティブ）

---

## 課金率向上のその他オプション（未採用・検討中）

| 案 | 内容 | 効果 | 実装コスト |
|----|------|------|-----------|
| スキャン回数を3回に戻す | 制限強化 | 中 | 低 |
| 単語数を50語に下げる | 壁に早く当たる | 中 | 低 |
| 広告をFreeに表示 | 不快感で課金誘導 | 高 | 中 |
| クイズ回数制限（Free: 20問/日） | 学習体験に制限 | 中 | 中 |
| AI解説機能（Proのみ） | 付加価値で差別化 | 中 | 高 |
| 復習リマインダー（Proのみ） | 継続率向上 | 低 | 中 |

---

## UI/UX実装ガイドライン

### 制限到達時の設計思想

1. **制限は「罰」ではなく「続きへの扉」**
   - ❌「できません」→ ネガティブ、離脱を招く
   - ✅「ここまで頑張りましたね。もっと続けるには...」→ 達成感 + 次のステップ

2. **壁にぶつかるタイミングが重要**
   - 100語 = 約2〜3週間の学習後 = アプリの価値を十分理解した頃
   - 5回/日 = 熱心に勉強した日の終盤 = モチベーションが高い瞬間

3. **アップグレード誘導は「提案」であり「強制」ではない**
   - 必ず「今はやめておく」「明日また使う」の選択肢を残す
   - 閉じるボタンは明確に。ダークパターン禁止。

### ナッジ（Nudge）タイミング

| トリガー | 表示内容 | 形式 |
|----------|----------|------|
| スキャン残り1回 | 「今日のスキャン残り1回。Proなら無制限」 | トースト（3秒） |
| 単語数80語突破 | 「80語達成！あと20語で上限です」 | トースト |
| 単語数95語突破 | 「単語数が残り5語です」 | バナー（閉じるまで表示） |
| スキャン上限到達 | モーダル（達成感 + Pro誘導） | モーダル |
| 単語数上限到達 | モーダル（整理 or Pro誘導） | モーダル |

---

## 成功指標

| 指標 | 目標 |
|------|------|
| 上限到達後のアップグレード率 | 5%以上 |
| 上限モーダルからの離脱率 | 30%以下 |
| Free→Pro転換率（月次） | 2%以上 |
| 上限到達ユーザーの翌日継続率 | 60%以上 |

---

## 実装タスク

### 即時対応
- [ ] 単語数上限を100→50に変更（`src/lib/utils.ts` の `FREE_WORD_LIMIT`）

### 全ユーザー向け機能
- [ ] 苦手マーク機能（付ける・一覧を見る）
- [ ] 単語帳シェア機能（要アカウント登録）

### Pro限定機能（優先順位順）
1. [ ] 例文学習機能
2. [ ] 忘却曲線復習機能
3. [ ] 苦手だけクイズ

### 将来検討
- [ ] 公開単語帳機能

---

## 更新履歴

- 2026-01-24: 初版作成。例文学習機能を検討開始。
- 2026-01-24: 単語数上限50語に決定。忘却曲線復習機能を追加決定。発音機能は見送り。
- 2026-01-24: マーク機能、単語帳シェア機能を追加決定。公開単語帳は将来検討。
- 2026-01-24: マーク機能を「苦手マーク」に変更。苦手だけクイズはPro限定に。
